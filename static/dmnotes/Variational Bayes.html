<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- common.css -->
  <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: Arial, Helvetica, sans-serif;margin: 0;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 85%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre {margin: 0;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
  <!-- ace-static.css -->
  <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
  <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
  <!-- export.css -->
  <style>
    body{margin:0 auto;max-width:800px;line-height:1.4}
    #nav{margin:5px 0 10px;font-size:15px}
    #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
    #contentarea{font-size:15px;margin:16px 0}
    .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
    .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
    .latex-cell{white-space:pre-wrap;}
  </style>
  <!-- User CSS -->
  <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
</head>
<body>
  <div id="nav"><div>Next: <a href='Word Association Mining.html'>Word Association Mining</a>, Previous: <a href='Topic Model.html'>Topic Model</a>, Up: <a href='index.html'>Index</a></div></div>
  <div id="titlearea">
    <h2>Variational Bayes</h2>
  </div>
  <div id="contentarea"><div class="cell markdown-cell"><h2 id="discussions">Discussions</h2>
<h3 id="design">Design</h3>
<ul>
<li>EM is a special case of mean field VB, in which we assume some <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-214-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-5169" style="width: 2.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.24em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.908em, -0.444em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-5170"><span class="msubsup" id="MathJax-Span-5171"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(1.903em, 1000em, 2.865em, -0.444em); top: -2.5em; left: 0em;"><span class="mi" id="MathJax-Span-5172" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -1.943em; left: 0.521em;"><span class="mi" id="MathJax-Span-5173" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-5174" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-5175"><span style="display: inline-block; position: relative; width: 0.749em; height: 0px;"><span style="position: absolute; clip: rect(1.903em, 1000em, 2.667em, -0.496em); top: -2.5em; left: 0em;"><span class="mi" id="MathJax-Span-5176" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.038em; left: 0.466em;"><span class="mi" id="MathJax-Span-5177" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-5178" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.239em; vertical-align: -0.365em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-214">q_i(x_i)</script> are infitely narrow. Mean field VB is more general with fewer assumptions</li><li>You don't have to completely maximize <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-215-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-5179" style="width: 2.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.719em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.865em, -0.477em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-5180"><span class="mi" id="MathJax-Span-5181" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-5182" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-5183" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-5184" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.313em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-215">L(q)</script> at each step. Just increase it. <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-216-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-5185" style="width: 1.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.938em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.793em, 1000em, 2.701em, -0.409em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-5186"><span class="mo" id="MathJax-Span-5187" style="font-family: STIXGeneral-Regular;">â‡’</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.84em; vertical-align: -0.116em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-216">\Rightarrow</script> stochastic gradient VB</li><li>You don't have to decompose completely. One <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-217-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-5188" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.521em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.903em, 1000em, 2.865em, -0.444em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-5189"><span class="mi" id="MathJax-Span-5190" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.905em; vertical-align: -0.313em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-217">q</script> can contain several <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-218-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-5191" style="width: 0.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.781em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.538em, 1000em, 2.449em, -0.496em); top: -2.135em; left: 0em;"><span class="mrow" id="MathJax-Span-5192"><span class="msubsup" id="MathJax-Span-5193"><span style="display: inline-block; position: relative; width: 0.749em; height: 0px;"><span style="position: absolute; clip: rect(1.903em, 1000em, 2.667em, -0.496em); top: -2.5em; left: 0em;"><span class="mi" id="MathJax-Span-5194" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.038em; left: 0.466em;"><span class="mi" id="MathJax-Span-5195" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.135em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.844em; vertical-align: -0.252em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-218">x_i</script>, especially when some posterior is computationally easy with mature methods (e.g. HMM)</li></ul>
<h3 id="comparison-with-mcmc-method">Comparison with MCMC method</h3>
<p><strong>advantages of VI</strong></p>
<ul>
<li>for small to medium problems, it is usually faster</li><li>Variational inference is trivial to parallelize, since you can create a variational distribution that matches your computational topology</li><li>Variational inference is also trivial to turn into an online algorithm, which can also be faster if you don't have access to a cluster </li><li>The sample variance of an MCMC estimate (or a rejection sampling estimate) usually approaches 0 as you draw more and more samples, while a variational estimate already has sample variance of exactly 0 because it's deterministic.  </li><li>is it easy to determine when to stop</li></ul>
<p><strong>advantages of MCMC</strong></p>
<ul>
<li>Variational inference is irredeemably biased, whereas MCMC's bias approaches 0 as you run the Markov chain for longer and longer.</li><li>it is often easier to implement</li><li>it is applicable to a broader range of models, such as models whose size or structure changes depending on the values of certain variables (e.g., as happens in matching problems), or models without nice conjugate priors; </li><li>sampling can be faster than variational methods when applied to really huge models or datasets. The reason is that sampling passes specific values of variables (or sets of variables), whereas in variational inference, we pass around distributions. Thus sampling passes sparse messages, whereas variational inference passes dense messages For comparisons of the two approaches</li></ul>
<h3 id="reference">Reference</h3>
<p><a href="https://www.quora.com/When-should-I-prefer-variational-inference-over-MCMC-for-Bayesian-analysis">https://www.quora.com/When-should-I-prefer-variational-inference-over-MCMC-for-Bayesian-analysis</a><br>Book: Machine Learning - A Probabilistic Perspective(Chapter 24)</p>
</div></div>
  <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'Word Association Mining.html';
if (e.keyCode === 37) window.location.href = 'Topic Model.html';
}</script>
</body>
</html>